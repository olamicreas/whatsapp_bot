<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Referral Contest - Register</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-700 via-pink-600 to-red-500 text-gray-900">

  <div class="bg-white w-full max-w-md p-8 rounded-2xl shadow-2xl animate-fade-in">

    <h2 class="text-3xl font-extrabold mb-6 text-center bg-gradient-to-r from-purple-500 to-pink-500 bg-clip-text text-transparent">
      Join the Referral Contest
    </h2>

    {% if error %}
      <p class="text-red-600 font-medium text-center mb-4">{{ error }}</p>
    {% endif %}

    {% if success %}
      <div class="text-center space-y-3">
        <p class="text-green-600 font-semibold text-lg">ðŸŽ‰ Registered Successfully!</p>
        <p><b>Your Referral Code:</b> <span class="text-purple-700 font-mono">{{ code }}</span></p>
        <p>
          <b>Your Referral Link:</b><br>
          <a href="{{ referral_link }}" class="text-blue-600 underline break-all">{{ referral_link }}</a>
        </p>
        <p>
          Track progress:
          <a href="{{ url_for('progress', ref_code=code) }}" class="text-purple-600 hover:underline">
            View Progress
          </a>
        </p>
      </div>
    {% else %}
      <form method="POST" class="space-y-4">
        <input type="text" name="name" placeholder="Group or Individual Name"
               class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500" required>
        <input type="email" name="email" placeholder="Email Address"
               class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500" required>

        <button type="submit"
                class="w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold py-3 rounded-lg hover:scale-105 transition-all">
          Register
        </button>
      </form>
    {% endif %}
  </div>

  <style>
    @keyframes fade-in {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-in {
      animation: fade-in 0.7s ease-in-out;
    }
  </style>

</body>
</html>
